!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vngage-scheduler",[],t):"object"==typeof exports?exports["vngage-scheduler"]=t():e["vngage-scheduler"]=t()}(this,(function(){return function(){"use strict";var e={d:function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{clearInterval:function(){return s},clearTimeout:function(){return f},setInterval:function(){return l},setTimeout:function(){return d}});var a={},n={setInterval:function(e,t){return window.setInterval(e,t)},setTimeout:function(e,t){return window.setTimeout(e,t)},clearInterval:function(e){return window.clearInterval(e)},clearTimeout:function(e){return window.clearTimeout(e)},_debug:function(){console.log("Scheduler fallback to native timers")}},r=!1,o=n;try{var i=new Blob(['var e={};self.addEventListener("message",function(a){if(a&&a.data&&"string"==typeof a.data.action)switch(a.data.action){case"setInterval":e[a.data.id]=setInterval(function(){self.postMessage({type:"callback",id:a.data.id})},a.data.interval);break;case"clearInterval":e[a.data.id]&&(clearInterval(e[a.data.id]),delete e[a.data.id]);break;case"setTimeout":e[a.data.id]=setTimeout(function(){self.postMessage({type:"callback",id:a.data.id}),delete e[a.data.id]},a.data.timeout);break;case"clearTimeout":e[a.data.id]&&(clearTimeout(e[a.data.id]),delete e[a.data.id]);break;case"debug":console.log("timerWorker timers",e);break;default:console.error("Unknown action",a)}},!1);'],{type:"application/javascript; charset=utf-8"}),c=window.URL.createObjectURL(i);(o=function(e){var t=new Worker(e);t.onmessage=function(e){if(e&&e.data&&"string"==typeof e.data.type)switch(e.data.type){case"callback":e.data.id&&a[e.data.id]&&a[e.data.id]();break;default:console.error("Unknown message from worker:",e)}};var o=function(){return Math.random().toString().split(".")[1]};return{setInterval:function(e,i){if(!r)return n.setInterval(e,i);var c=o();return a[c]=e,t.postMessage({action:"setInterval",id:c,interval:i}),c},clearInterval:function(e){if(!r)return n.clearInterval(e);t.postMessage({action:"clearInterval",id:e}),delete a[e]},setTimeout:function(e,i,c){if(!r&&!c)return n.setTimeout(e,i);var u=o();return a[u]=function(){delete a[u],e()},t.postMessage({action:"setTimeout",id:u,timeout:i}),u},clearTimeout:function(e){if(!r)return n.clearTimeout(e);t.postMessage({action:"clearTimeout",id:e}),delete a[e]},_debug:function(){if(!r)return n._debug();t.postMessage({action:"debug"}),console.log("Scheduler timers:",a)}}}(c)).setTimeout((function(){r=!0,URL.revokeObjectURL(c)}),0,!0)}catch(e){o=n}var u=o,l=u.setInterval,d=u.setTimeout,s=u.clearInterval,f=u.clearTimeout;return t}()}));